/*!
 * Start Bootstrap - PhotoMap_Admin v1.0.0 (https://github.com/RunaticMoon/PhotoMap_Admin#readme)
 * Copyright 2013-2020 RunaticMoon
 * Licensed under ISC (https://github.com/BlackrockDigital/photomap_admin_page/blob/master/LICENSE)
 */

Kakao.init("7600a0cf289a958df5021746c9222d59");var myInfo,server="https://soybeans.tech/dev";function createLoginButton(){Kakao.Auth.createLoginButton({container:"#kakao-login-btn",success:function(o){console.log("Login success",JSON.stringify(o)),window.location.replace("/")},fail:function(o){alert("로그인이 실패했습니다."),console.log("Login error",JSON.stringify(o))}})}function logout(){Kakao.Auth.logout(),window.location.replace("/login.html")}$(function(){Kakao.Auth.getStatusInfo(function(o){console.log(o),"connected"==o.status?(console.log("success Login"),myInfo=o.user,$("#userDropdown > span").text(myInfo.kakao_account.profile.nickname),$("#userDropdown > img").attr("src",myInfo.kakao_account.profile.thumbnail_image_url)):(alert("로그인이 필요합니다."),Kakao.Auth.logout(),window.location.replace("/login.html"))})}),$.ajaxSetup({beforeSend:function(o){o.setRequestHeader("Authorization","Bearer "+Kakao.Auth.getAccessToken())}});var API=Object.freeze({UserGet:["GET","/users"],UserDelete:["DELETE","/users"],UserPrimaryMap:function(o){return["PATCH","/users/"+o]},MapList:["GET","/maps"],MapMake:["POST","/maps"],MapInfo:function(o){return["GET","/maps/"+o]},MapSetRepresent:function(o){return["POST","/maps/"+o]},MapEditName:function(o){return["PUT","/maps/"+o]},MapModifyUser:function(o){return["PATCH","/maps/"+o]},MapDelete:function(o){return["DELETE","/maps/"+o]},StoryUpload:function(o){return["POST","/stories/"+o]},StoryList:function(o,e){return["GET","/stories/"+o+"/"+e]},StoryInfo:function(o){return["GET","/stories/"+o]},StoryModify:function(o){return["PATCH","/stories/"+o]},StoryDelete:function(o){return["DELETE","/stories/"+o]},NoticeGet:["GET","/notice"]});function request(o,e){console.log("request",o,e);var t={method:o[0],dataType:"json"};e&&(t.data=e),$.ajax(server+o[1],t)}